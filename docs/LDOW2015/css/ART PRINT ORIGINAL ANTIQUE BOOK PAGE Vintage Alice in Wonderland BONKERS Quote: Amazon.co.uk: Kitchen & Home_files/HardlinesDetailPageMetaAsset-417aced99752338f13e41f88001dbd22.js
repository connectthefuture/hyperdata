/* DetailPageAlohaAssets */
(function(l){l.execute(function(){if(!window.alohaWirelessJSLoaded)window.alohaWirelessJSLoaded=!0,l.when("jQuery").register("AlohaWireless",function(){if(!window.AlohaWireless)window.AlohaWireless={};window.AlohaWireless.Cache=function(b){this.data={};this.count=0;this.stats={};this.stats.hits=0;this.stats.misses=0;b||(b=-1);this.maxSize=b;this.putEntry=function(a,b,f){this.data[a]&&this.removeEntry(a);this.data[a]=new function(a,d,b){if(!a||a==="")throw Error("Key cannot be null or empty");this.key=
a;this.value=d;b||(b={});if(f)b.expiration=f.expiration,b.priority=f.priority,b.callback=f.callback;this.addTime=(new Date).getTime();this.options=b;this.lastAccessed=(new Date).getTime();this.accessCount=0}(a,b,f)};this.getEntry=function(a){var b=this.data[a];if(b)this.isExpired(b)?(this.removeEntry(a),b=null):b.lastAccessed=(new Date).getTime();a=null;b?(a=b.value,this.stats.hits++):this.stats.misses++;return a};this.removeEntry=function(a){this.data[a]&&(delete this.data[a],this.count--)};this.isExpired=
function(a){return a&&a.options&&a.options.expiration&&(new Date).getTime()>a.addTime+a.options.expiration?!0:!1};this.exists=function(a){return this.data[a]?!0:!1};this.clear=function(){for(var a in this.data)this.data.hasOwnProperty(a)&&this.removeEntry(a)}};return window.AlohaWireless}),l.when("A","jQuery").register("alohaUtil",function(){return{isNotEmpty:function(b){return b&&b.length>0},isEmpty:function(b){return!b||b.length===0}}});if(!window.alohaConfiguratorEngineLoaded){window.alohaConfiguratorEngineLoaded=
!0;if(!window.AlohaWireless)window.AlohaWireless={};if(!window.AlohaWireless.Configurator)window.AlohaWireless.Configurator={};window.AlohaWireless.Configurator.Engine=function(b){function a(a){this.props=a;this.getSimilarity=function(a){var b=0,c;for(c in a)c in this.props&&this.props[c]===a[c]&&b++;return b}}function u(a){var b=r,d;for(d in a)if(a.hasOwnProperty(d)){if(!b[a[d]])return!1;b=b[a[d]]}return b.__itemReference}function f(a,b){var d={};if(!e)return d;for(var c in g)if(g.hasOwnProperty(c)){var i=
e[c]?e[c].selectedValue:"";c===a&&(i=b);d[c]=i}return d}function k(a,b){var h;if(Object.prototype.toString.apply(a)==="[object Array]"){if(h={},e)for(var c in g)if(g.hasOwnProperty(c)){for(var i=e[c]?e[c].selectedValue:"",o=-1,m=0;m<a.length;m++)if(c===a[m]){o=m;break}o!==-1&&(i=b[o]);h[c]=i}}else h=f(a,b);if(h=u(h))s(h);else switch(q){case "deny":return!1;case "warn":G(a,b);break;case "auto":d(a,b);s(t);break;case "ask":l(a,b)}}function d(a,b){var d=f(a,b),c=h[a+":"+b],i=0,o;for(o in c)if(c.hasOwnProperty(o)){var e=
c[o],k=e.getSimilarity(d);k>i?(t=e,i=k):k===i&&e.props.buyingPrice&&t.props.buyingPrice&&e.props.buyingPrice<t.props.buyingPrice&&(t=e)}}function s(a){if(a){y=a;for(var b in g)if(g.hasOwnProperty(b))e[b].selectedValue=a.props[b];for(var d in e)if(e.hasOwnProperty(d)){b=e[d];for(var c in b.validValues)if(b.validValues.hasOwnProperty(c)){var i=f(d,c),i=u(i);b.validValues[c]=i?{exists:!0,item:i}:{exists:!1}}}p(a,e,x)}}function v(){for(var a=0,b=j.length;a<b;a++){var d=j[a],c;for(c in g)g.hasOwnProperty(c)&&
(c in e||(e[c]={validValues:{}}),e[c].validValues[d.props[c]]=1)}}function H(){for(var a=0,b=j.length;a<b;a++){var d=j[a],c=r,i;for(i in e)e.hasOwnProperty(i)&&(c[d.props[i]]||(c[d.props[i]]={}),c=c[d.props[i]]);c.__itemReference=d}}function n(b){for(var d=0,e=b.length;d<e;d++){var c=new a(b[d]);j.push(c);for(var i in c.props)c.props.hasOwnProperty(i)&&(h[i+":"+c.props[i]]||(h[i+":"+c.props[i]]=[]),h[i+":"+c.props[i]].push(c))}j.sort(function(a,c){return a.props.buyingPrice&&c.props.buyingPrice?a.props.buyingPrice-
c.props.buyingPrice:0})}var x=b,j,g,h,r,e,y,t,q,p,l,G,w={},z;this.getDecisions=function(){return e};this.embed=function(a){j=[];g={};h={};r={};e={};z=a.physicalDimensions||[];q=a.invalidSelectionMode||"warn";y=null;for(var b in a.properties)a.properties.hasOwnProperty(b)&&(g[a.properties[b]]=1);n(a.items);v();H();b=0;for(var d=j.length;b<d;b++)for(var c=j[b],i=0;i<z.length;i++)for(var o=z[i],o=o+":"+c.props[o],m=0;m<z.length;m++)if(i!==m){var f=z[m],f=f+":"+c.props[f];w[o]||(w[o]={});w[o][f]=1}p=
a.updateUI;l=a.ask;G=a.warn;b=j[0];d=0;for(c=j.length;d<c;d++){var i=j[d],o=!0,F;for(F in a.defaultItem)if(a.defaultItem.hasOwnProperty(F)&&(m=a.defaultItem[F],!(F in i.props&&i.props[F]===m))){o=!1;break}if(o===!0){b=i;break}i.props.buyingPrice<b.props.buyingPrice&&(b=i)}s(b);a.buildUI(y,e,k,x);return y};this.getItem=u;this.getProspectiveAttributes=f;this.chooseOption=k;this.usemostSimilarItem=function(){s(t)};this.setMostSimilarItem=d;this.setSelectedItem=s;this.getSelectedItem=function(){return y};
this.buildDecisions=v;this.buildpropItemMap=H;this.populateItems=n;this.engineName=x;this.getAvailableItems=function(a,b){return w[a+":"+b]};this.getOneAvailableItem=function(){return!j||j.length===0?null:j[0]};this.availableItemsMapping=w}}if(!window.alohaPPDJSLoaded){window.alohaPPDJSLoaded=!0;if(!window.alohaPPD)window.alohaPPD={};l.when("A","jQuery","AlohaWireless").register("alohaAjaxRefresh",function(b,a,u){function f(){a(".aloha-ajax-loading-blocker").width(a(window).width()-1).height(a(window).height()-
1);a(".aloha-ajax-loading-blocker").show()}function k(){a(".aloha-ajax-loading-blocker").hide()}var d=function(a){return typeof a==="string"?eval("("+a+")"):a},s=function(a){var b="?",d=!0,k;for(k in a)if(a.hasOwnProperty(k)){var f=a[k];d?(b+=k+"="+encodeURIComponent(f),d=!1):b+="&"+k+"="+encodeURIComponent(f)}return b};if(!window.AlohaWireless)window.AlohaWireless={};window.AlohaWireless.refreshFeatures=function(v,l){var n=a.extend({},{_encoding:"UTF-8",asin:v.asinList,transaction:"individual_new"},
v),x="/gp/product/features/aloha-ppd/udp-ajax-handler/variation-update.html"+s(n),j=function(b){if(b.length>1)for(var k=1;k<b.length;k++){var e=d(b[k]),f=e.Value;(e=e.FeatureName)&&e.length>0&&e.substring(e.length-12)!=="_feature_div"&&(f.content[e]||(e+="_feature_div"));if(!(e==="intermediateEOS"||e==="EOS")){var g="#"+e;window.alohaPPD.isPhoneOnly===1&&e==="availability_feature_div"&&(g="#availability_feature_div_center");a(g)&&a(g).length>0&&(a(g).html(f.content[e]),g==="#price_feature_div"&&a("#carrierLogoRowPhoneOnly")&&
a("#carrierLogoRowPhoneOnly").length>0&&(a(g).is(":visible")?a("#carrierLogoRowPhoneOnly").removeClass("hide"):a("#carrierLogoRowPhoneOnly").addClass("hide")))}}l&&l()},n={method:"get",dataType:"json",chunk:function(){k()},success:function(a){var b=a.lastIndexOf("&&&"),e=[];b>0&&(e=a.substr(0,b-0),e.length>0&&(e=e.split("&&&")));a=e;var b=!1,f;if(a.length>0&&(e=d(a[0]),typeof e.RequestID==="string"))f=e.RequestID,b=!0;b&&(window.alohaCSMues("id","alohaUpdateAjax",f),window.alohaCSMues("t0","alohaUpdateAjax",
new Date),window.alohaCSMues("ctb","alohaUpdateAjax","1"),window.alohaWirelessCSMLog("uet","bb","alohaUpdateAjax",!1));window.alohaPPD.myCache||(window.alohaPPD.myCache=new u.Cache(50));window.alohaPPD.myCache.putEntry(x,a,{expiration:3E5});j(a);k();b&&(window.alohaWirelessCSMLog("uet","af","alohaUpdateAjax",!1),window.alohaWirelessCSMLog("uet","cf","alohaUpdateAjax",!1),window.alohaWirelessCSMLog("uet","be","alohaUpdateAjax",!1),window.alohaWirelessCSMLog("uex","ld","alohaUpdateAjax",!1))},error:function(){k()},
timeout:5E4};window.alohaPPD.myCache||(window.alohaPPD.myCache=new u.Cache(50));var g=window.alohaPPD.myCache.getEntry(x);g?(f(),j(g),k()):(window.alohaWirelessCSMLog("uet","tc","alohaUpdateAjax",!1),f(),b.ajax(x,n))};return window.AlohaWireless});l.when("A","jQuery","AlohaWireless","alohaBuyBoxJS","imageBlockUtils","ready").register("alohaPPD",function(b,a,u){var f;function k(){return a("#variation-color").find(".swatches .selected input[name=alohaTwisterValue]").attr("value")}function d(){return a("#variation-storage").find(".swatches .selected input[name=alohaTwisterValue]").attr("value")}
function s(){return a("#aloha-transaction-selectbox").find(".swatches .selected input[name=alohaTwisterValue]").attr("value")}function v(){return a("#aloha-simcard-selectbox").find(".swatches .selected input[name=simcardAsin]").attr("value")}function l(c,b){if(c&&typeof b!=="undefined"){var d=c.toLowerCase()==="new"?"#new-monthly-contract-fee":"#upgrade-monthly-contract-fee";a(d).find(".monthlyPlanFeeValue").empty().html(b);a(d).find(".monthlyPlanFeeValue").removeClass("hovered")}}function n(a){return a&&
a.toLowerCase()==="upgrade"?"individual_upgrade":"individual_new"}function x(a){return a&&(a=a.toLowerCase(),a==="new"||a==="upgrade")?!0:!1}function j(c){if(x(c)){a("#aloha-transaction-selectbox").find(".swatch").each(function(){a(this).removeClass("selected");a(this).find(".a-button-toggle").removeClass("a-button-selected");a(this).find(".monthlyPlanFeeValue").removeClass("a-color-price")});var c=c.toLowerCase(),b=c==="new"?"#new-monthly-contract-fee":"#upgrade-monthly-contract-fee",d=a(b).closest(".swatch");
a(b).removeClass("a-button-disabled").addClass("a-button-selected");a(b).find(".monthlyPlanFeeValue").addClass("a-color-price");a(b).closest(".swatch").removeClass("swatchDisabled").addClass("selected");a("#upgrade-contract-month-mention").length>0&&(c==="upgrade"?(a("#upgrade-contract-month-mention").removeClass("hide"),a("#contract-month-mention").addClass("hide")):(a("#upgrade-contract-month-mention").addClass("hide"),a("#contract-month-mention").removeClass("hide")));c=a(d).find("input[name=alohaTwisterDisplayValue]").attr("value");
a(b).closest(".alohaTwister").find(".twisterSwatchSelected").empty().text(c)}}function g(c){x(c)&&(c=c.toLowerCase()==="new"?"#new-monthly-contract-fee":"#upgrade-monthly-contract-fee",a(c).removeClass("a-button-selected").addClass("a-button-disabled"),a(c).find(".monthlyPlanFeeValue").removeClass("a-color-price"),a(c).closest(".swatch").removeClass("selected").addClass("swatchDisabled"))}function h(c,b){for(var d=[c,b],e=[],k=[],h=0;h<d.length;h++){var f;if(f=d[h]&&d[h].props&&(!d[h].props.hasPrice||
d[h].props.hasPrice.length===0||d[h].props.hasPrice==="1"))f=(f=d[h].props.Transaction)&&f.length>0?f.toLowerCase():"",f=f!=="upgrade"||window.alohaPPD.isUpgradeSupported;f?e.push(d[h]):k.push(d[h])}for(h=0;h<k.length;h++)(d=k[h])&&d.props&&g(d.props.Transaction);k=null;for(h=0;h<e.length;h++)d=e[h],f=d.props.Transaction,x(f)&&(f=f.toLowerCase()==="new"?"#new-monthly-contract-fee":"#upgrade-monthly-contract-fee",a(f).removeClass("a-button-disabled"),a(f).closest(".swatch").removeClass("swatchDisabled")),
d===c&&(k=d);window.alohaPPD.noValidTransaction=!1;return e.length>0?(k||(k=e[0]),j(k.props.Transaction),a("#priceUnavailable").remove(),a("#aloha-price-str").removeClass("hide"),k.props.Transaction):(e='<tr id="priceUnavailable"><td class="a-size-medium">'+t.priceUnavailableMsg+"</td></tr>",a("#priceUnavailable").remove(),a("#aloha-price-str").addClass("hide").after(e),window.alohaPPD.noValidTransaction=!0,null)}function r(c){c="#"+c+"-monthly-contract-fee";a(c).find(".a-color-secondary").addClass("hide");
a(c).find(".contractUnavailable").remove();a(c).find(".a-color-secondary").after('<span class="contractUnavailable">'+t.contractUnavailableMsg+"</span>")}function e(c){c="#"+c+"-monthly-contract-fee";a(c).find(".a-color-secondary").removeClass("hide");a(c).find(".contractUnavailable").remove()}function y(c){if(c)c={asin:c.props.asin,carrier:a("#aloha-ppd").find("input[name=carrierDisplayName]").attr("value"),color:c.props[q],storage:c.props[p],transactionType:c.props.Transaction,availability:"InStock",
phoneOnlyPrice:c.props.deviceOnlyPrice,monthlyPlanFee:c.props.monthlyFee,hoverState:C,isSimcard:w(),simcardStyle:c.props[E],isPhoneOnly:window.alohaPPD.isPhoneOnly},window.alohaPPD.noValidTransaction&&(c.noValidTransaction=!0),C===f?b.trigger("alohaPPD.VariationChange",c):b.trigger("alohaPPD.VariationHover",c)}var t=b.state("alohaPPDState")||{};window.alohaPPD.isPhoneOnly=a("#aloha-ppd").find("input[name=isPhoneOnly]").attr("value")==="true"?1:0;window.alohaCurrentColor=a("#variation-color").find("input[name=initSelectedColor]").attr("value");
window.alohaCurrentSize=a("#variation-storage").find("input[name=initSelectedStorage]").attr("value");window.alohaCurrentStyle=null;window.alohaPPD.isStandalonePhone=a("#aloha-ppd").find("input[name=isStandalonePhone]").attr("value")==="true"?1:0;window.alohaPPD.isPayMonthlyOutOfStock=a("#aloha-ppd").find("input[name=isPayMonthlyOutOfStock]").attr("value")==="true"?1:0;window.alohaPPD.isAllOutOfStock=a("#aloha-ppd").find("input[name=isAllOutOfStock]").attr("value")==="true"?1:0;window.alohaPPD.isAllEMWA=
a("#aloha-ppd").find("input[name=isAllEMWA]").attr("value")==="true"?1:0;window.alohaPPD.isUpgradeSupported=a("#aloha-ppd").find("input[name=isUpgradeSupported]").attr("value")==="true"?1:0;window.alohaPPD.hasContractPrice=a("#aloha-ppd").find("input[name=hasContractPrice]").attr("value")==="false"?0:1;window.alohaPPD.hasColorDimen=a("#aloha-ppd-variation").find("input[name=hasColorDimen]").attr("value")==="false"?0:1;window.alohaPPD.hasSizeDimen=a("#aloha-ppd-variation").find("input[name=hasSizeDimen]").attr("value")===
"false"?0:1;var q=a("#aloha-ppd").find("input[name=colorCatName]").attr("value"),p=a("#aloha-ppd").find("input[name=sizeCatName]").attr("value"),E=p;window.alohaPPD.colorCatName=q;window.alohaPPD.sizeCatName=p;window.alohaPPD.styleCatName=E;var G=function(a){if(!a||a.length===0)return"";if(a.toLowerCase()==="new")return"Upgrade";else if(a.toLowerCase()==="upgrade")return"New";return""},w=function(){return a("#aloha-simcard-selectbox")&&a("#aloha-simcard-selectbox").length>0},z=function(){return window.alohaPPD.isPhoneOnly?
window.alohaPPD.phoneOnlyEngine:window.alohaPPD.payMonthlyEngine},I=function(){var c={is_ajaxcall:"1"};if(w())c.asinList=v();else{var b=z().getSelectedItem();if(!b)if(window.alohaPPD.isPhoneOnly===0&&window.alohaPPD.isAllOutOfStock===0){if(b=window.alohaPPD.phoneOnlyEngine.getSelectedItem(),!b)return}else return;c.asinList=b.props.asin}window.alohaPPD.isPhoneOnly?(c.transaction="device_only",b=window.alohaPPD.getSelectedTransaction(),c.old_transaction=n(b)):(b=s(),c.transaction=n(b),b=a("#aloha-ppd").find("input[name=marketplaceOwner]").attr("value"),
c.merchantId=b);c.carrier_name=t.carrierName;u.refreshFeatures(c,function(){window.alohaPPD.isPhoneOnly||(C=f,y(window.alohaPPD.payMonthlyEngine.getSelectedItem()))})},D=function(c,b,d){var e=z();if(e){var h=e.getAvailableItems(b,d);if(!h||h.length===0){var k=e.getOneAvailableItem(b);if(!k)return{};a("#variation-color").find(".swatch").each(function(){a(this).removeClass("selected")});a("#variation-storage").find(".swatch").each(function(){a(this).removeClass("selected").removeClass("a-button-selected")});
var f=k.props[q],k=k.props[p];a("#variation-color").find("input[name=alohaTwisterValue][value="+f+"]").closest(".swatch").addClass("selected");a("#selected_color_name").find(".twisterSwatchSelected").empty().text(f);a("#variation-storage").find("input[name=alohaTwisterValue][value="+k+"]").closest(".swatch").addClass("selected").addClass("a-button-selected");a("#selected_storage_name").find(".twisterSwatchSelected").empty().text(k);b===q?d=f:b===p&&(d=k);h=e.getAvailableItems(b,d)}a(c).removeClass("alohaSwatchUnavailable").removeClass("alohaSwatchAvailable");
var g=null,r=null,s=null,A=!1,c={};b===q?a("#variation-storage").find(".storageButtonWrapper").each(function(){var c=a(this).find("input[name=alohaTwisterValue]").attr("value"),b=p+":"+c;h&&h[b]?(a(this).removeClass("alohaSwatchUnavailable").addClass("alohaSwatchAvailable"),g||(g=this,r=p,s=c)):(a(this).hasClass("selected")&&(a(this).removeClass("selected").removeClass("a-button-selected"),A=!0),a(this).removeClass("alohaSwatchAvailable").addClass("alohaSwatchUnavailable"))}):b===p&&a("#variation-color").find(".swatch").each(function(){var c=
a(this).find("input[name=alohaTwisterValue]").attr("value"),b=q+":"+c;h&&h[b]?(a(this).removeClass("alohaSwatchUnavailable").addClass("alohaSwatchAvailable"),g||(g=this,r=q,s=c)):(a(this).hasClass("selected")&&(a(this).removeClass("selected").removeClass("a-button-selected"),A=!0),a(this).removeClass("alohaSwatchAvailable").addClass("alohaSwatchUnavailable"))});A&&g!==null&&(a(g).removeClass("hovered").addClass("selected"),c=a(g).find("input[name=alohaTwisterDisplayValue]").attr("value"),a(g).closest(".alohaTwister").find(".twisterSwatchSelected").empty().text(c),
b===q&&a(g).addClass("a-button-selected"),c=D(g,r,s)||{});c[b]=d;return c}};window.alohaPPD.updateAvailableClass=D;window.alohaPPD.manualUpdateImageBlock=function(a,b){var d=z().getSelectedItem();if(d){var e={type:"click",data:{}};w()?e.data.simcardStyle=d.props[E]:(e.data.colorValue=d.props[q],e.data.sizeValue=d.props[p]);window.alohaPPD.updateImageBlock(e,a,b);e.type="mouseenter";window.alohaPPD.updateImageBlock(e,a,b)}};var C=f="NONE";(function(){var c=a("#aloha-ppd-variation").find("input[name=aloha-variation-data]").attr("value"),
i=a("#aloha-ppd-variation").find("input[name=aloha-variation-data-phone-only]").attr("value");if(c&&c.length!==0&&/\S/.test(c)||i&&i.length!==0&&/\S/.test(i)){var g=eval("("+c+")"),c=null,m=[],j=[],u=null;w()?u=m=[E]:(u=[q,p],m=[q,p,"Transaction"],j=[q,p],c=eval("("+i+")"));var v=function(){var a=[p,q];w()&&(a=[E]);return function(c){for(var b=0;b<a.length;b++)if(a[b]===c)return!0;return!1}}();window.alohaPPD.payMonthlyEngine=new window.AlohaWireless.Configurator.Engine("PayMonthlyEngine");if(!w())window.alohaPPD.phoneOnlyEngine=
new window.AlohaWireless.Configurator.Engine("PhoneOnlyEngine");var x=function(a){return!a?!1:window.alohaPPD.isPhoneOnly===1?a==="PhoneOnlyEngine":a==="PayMonthlyEngine"},i={properties:m,physicalDimensions:u,defaultItem:g[0],invalidSelectionMode:"auto",buildUI:function(c,e,i,g){a("input[name=alohaTwisterValue]").each(function(){var e=a(this).val(),o=a(this).closest(".swatch"),B=o.closest(".alohaTwister").find("input[name=alohaTwisterCategory]").val();o.bind("click",function(){if(x(g)&&!a(this).hasClass("swatchDisabled")){a(this).closest(".alohaTwister").find(".swatch").each(function(){a(this).removeClass("selected").removeClass("a-button-selected")});
o.removeClass("hovered").addClass("selected");var c=a(this).find("input[name=alohaTwisterDisplayValue]").attr("value");a(this).closest(".alohaTwister").find(".twisterSwatchSelected").empty().text(c);B===p&&a(this).addClass("a-button-selected");var r=c=null;if(v(B)){if(!w())for(var A=D(this,B,e),c=c||[],r=r||[],j=0,m=u.length;j<m;j++){var n=u[j];n in A&&(c.push(n),r.push(A[n]))}if(!w()&&!window.alohaPPD.isPhoneOnly){j=k();n=d();A=s();m={};m[q]=j;m[p]=n;m.Transaction="Upgrade";j=z().getItem(m);m.Transaction=
"New";var m=z().getItem(m),y=n=null;A==="Upgrade"?(m&&m.props&&l("new",m.props.monthlyFee),n=j,y=m):(j&&j.props&&l("upgrade",j.props.monthlyFee),n=m,y=j);if((A=h(n,y))&&A.length>0)c=c||[],r=r||[],c.push("Transaction"),r.push(A)}}else a(this).closest(".alohaTwister").find(".monthlyPlanFeeValue").removeClass("a-color-price"),B==="Transaction"&&a("#upgrade-contract-month-mention").length>0&&(e==="Upgrade"?(a("#upgrade-contract-month-mention").removeClass("hide"),a("#contract-month-mention").addClass("hide")):
(a("#upgrade-contract-month-mention").addClass("hide"),a("#contract-month-mention").removeClass("hide")));a(this).find(".monthlyPlanFeeValue").addClass("a-color-price");C=f;c&&r?i(c,r):i(B,e);v(B)&&(window.alohaPPD.manualUpdateImageBlock(b,a),I())}});o.mouseenter(function(){if(!a(this).hasClass("selected")&&!a(this).hasClass("swatchDisabled")){a(this).addClass("hovered");var c=a(this).closest(".alohaTwister").find(".twisterSwatchSelected"),b=a(this).find("input[name=alohaTwisterDisplayValue]").attr("value");
c.addClass("hovered");c.html(b);a(this).hasClass("alohaSwatchUnavailable")&&J(this,B,B===q?p:q);C="IN"}});o.mouseleave(function(){if(!a(c).hasClass("selected")){a(this).closest(".swatches").find(".selected input[name=alohaTwisterValue]").attr("value");var b=a(this).closest(".swatches").find(".selected input[name=alohaTwisterDisplayValue]").attr("value"),d=a(this).closest(".alohaTwister").find(".twisterSwatchSelected");a(this).removeClass("hovered");d.removeClass("hovered");B==="Transaction"&&a(this).find(".monthlyPlanFeeValue").removeClass("hovered");
d.html(b?b:"");a(this).removeAmazonPopoverTrigger();C="OUT"}})})},updateUI:function(c,b,d){if(x(d)){if(window.alohaPPD.isPhoneOnly===0)b=c.props.price,a("#aloha-displayed-price").html(b);if(w())b=c.props.monthlyFee,a("#aloha-price-wrapper").find(".price-message .priceValue").html(b);else if((d=c.props.Transaction)&&d.length>1)if(d=d.toLowerCase(),b=c.props.monthlyFee,a("#"+d+"-monthly-contract-fee").find(".monthlyPlanFeeValue").empty().html(b),c.props.hasPrice==="1"?e(d):r(d),b=G(d),d={},d[q]=c.props[q],
d[p]=c.props[p],d.Transaction=b,d=z().getItem(d))l(b,d.props.monthlyFee),d.props.hasPrice==="1"?e(b.toLowerCase()):r(b.toLowerCase());c.props.isEMWA==="1"?(a("#aloha-price-left").css("display","none"),a("#aloha-emwa-message").css("display","block"),a("#aloha-transaction-selectbox").find(".swatch").each(function(){a(this).addClass("swatchDisabled");a(this).find(".a-button-toggle").removeClass("a-button-selected").addClass("a-button-disabled");a(this).find(".monthlyPlanFeeValue").removeClass("a-color-price")})):
(a("#aloha-price-left").css("display","block"),a("#aloha-emwa-message").css("display","none"));y(c)}},ask:function(){},warn:function(){}},n=a("#aloha-ppd-variation").find("input[name=initVariationIndex]").attr("value"),n=n&&n.length>0?n:0;window.alohaPPD.payMonthlyEngine.embed(a.extend(i,{items:g,properties:m,defaultItem:n>=0&&n<g.length?g[n]:null}));w()||(g=(g=a("#aloha-ppd-variation").find("input[name=initVariationIndexForPhoneOnly]").attr("value"))&&g.length>0?g:0,window.alohaPPD.phoneOnlyEngine.embed(a.extend(i,
{items:c,properties:j,defaultItem:g>=0&&g<c.length?c[g]:null})));var J=function(c,b,d){if(c){var b=(b=a("#aloha-ppd").find("input[name=unavailablePopoverStrValue]").attr("value"))&&b.length>0?b:"Not available in selected",e=a("#aloha-ppd").find("input[name=showDimSecondUnavailablePopover]").attr("value")==="true"?1:0,h=d;t.dimToLabelMap&&t.dimToLabelMap[d]&&t.dimToLabelMap[d].length>0&&(h=t.dimToLabelMap[d]);d=b+"&nbsp;<strong>"+h+"</strong>";e&&(d="<strong>"+h+"</strong>&nbsp;"+b);b="<div id='twisterPopover' class='ap_popover twisterPopoverSkin'>";
e=[0,-5];b="<div id='twisterPopover' class='ap_popover twisterPopoverSkin a-text-color-white'>";e=[2,22];h=a(c);a.AmazonPopover.displayPopover({modal:!1,showOnHover:!0,draggable:!1,showCloseButton:!1,hoverShowDelay:50,hoverHideDelay:0,width:null,closeEventInclude:"CLICK_TRIGGER",literalContent:d,skin:b+"<div class='ap_header'></div><div class='ap_body'><div class='ap_content'></div></div><div class='ap_footer'><div class='ap_middle'></div></div></div>",location:"top",locationElement:a(c),align:"center",
attached:!1,group:"TwisterPopover",locationOffset:e,paddingLeft:5,paddingRight:5,paddingBottom:5,onShow:function(){var c=a("#twisterPopover").width();a.browser.msie?a("#twisterPopover").find(".ap_footer").find(".ap_middle").addClass("twisterPopoverArrow").css({top:"16px",width:c-68+"px"}):a("#twisterPopover").find(".ap_footer").find(".ap_middle").addClass("twisterPopoverArrow").css({width:c-68+"px"})}},h);a(c).trigger("mouseover.amzPopover")}}}})();b.on("alohaBuyBox.BuyingType",function(a){var b=
0;a==="PhoneOnly"&&(b=1);window.alohaPPD.onBuyBoxSelectionChange(b)});(function(a){window.alohaPPD&&!window.alohaPPD.isPhoneOnly&&a("#aloha-color-storage-selectbox").find(".swatch.phoneOnly").each(function(){a(this).addClass("hide")})})(a);a.extend(window.alohaPPD,{getSelectedColor:k,getSelectedStorage:d,getSelectedTransaction:s,getSelectedSimcardAsin:v,variationUpdate:I});(function(a){a.extend(window.alohaPPD,{onBuyBoxSelectionChange:function(e){e===!0&&(e=1);e===!1&&(e=0);e!==1&&e!==0&&(e=0);if(!(window.alohaPPD.isPhoneOnly===
e||window.alohaPPD.isAllOutOfStock===1)){window.alohaPPD.isPhoneOnly=e;e===1?(a("#aloha-price-wrapper").css("display","none"),a("#ppd-pay-monthly-out-of-stock").css("display","none"),a("#aloha-transaction-selectbox").css("display","none"),a("#monthly-help-section").css("display","none"),a("#help-section-wrapper").addClass("hide"),a("#price_feature_div").css("display","block"),a("#availability_feature_div_center").css("display","block"),a("#dynamicDeliveryMessage_feature_div").css("display","block"),
a("#moreBuyingChoices_feature_div").css("display","block"),a("#tradeInButton_feature_div").css("display","block"),a("#olp_feature_div").css("display","block"),a("#aloha-ppd-variation.phoneOnly").css("display","block"),a("#aloha-color-storage-selectbox").find(".swatch.phoneOnly").each(function(){a(this).removeClass("hide")}),window.alohaPPD.isStandalonePhone&&a("#aloha-ppd-variation").addClass("standalone"),a("#ppd-all-emwa").css("display","none")):(a("#price_feature_div").css("display","none"),a("#availability_feature_div_center").css("display",
"none"),a("#dynamicDeliveryMessage_feature_div").css("display","none"),a("#moreBuyingChoices_feature_div").css("display","none"),a("#tradeInButton_feature_div").css("display","block"),a("#olp_feature_div").css("display","none"),a("#aloha-price-wrapper").css("display","block"),a("#ppd-pay-monthly-out-of-stock").css("display","block"),a("#aloha-transaction-selectbox").css("display","block"),a("#monthly-help-section").css("display","block"),a("#help-section-wrapper").removeClass("hide"),a("#aloha-ppd-variation.phoneOnly").css("display",
"none"),a("#aloha-color-storage-selectbox").find(".swatch.phoneOnly").each(function(){a(this).addClass("hide")}),a("#carrierLogoRowPhoneOnly").addClass("hide"),window.alohaPPD.isStandalonePhone&&a("#aloha-ppd-variation").removeClass("standalone"),window.alohaPPD.isAllEMWA&&a("#ppd-all-emwa").css("display","block"));var j=window.alohaPPD.phoneOnlyEngine,m=window.alohaPPD.payMonthlyEngine;if(j&&m){var r=j.getSelectedItem(),n=m.getSelectedItem(),u=function(j,r,m){if(j&&m){var n=window.alohaPPD.colorCatName,
o=window.alohaPPD.sizeCatName,u=[n,o],q=[m.props[n],m.props[o]],p=a("#variation-color").find("input[name=alohaTwisterValue][value="+m.props[n]+"]").closest(".swatch");window.alohaPPD.updateAvailableClass(p,n,m.props[n]);p=a("#variation-storage").find("input[name=alohaTwisterValue][value="+m.props[o]+"]").closest(".swatch");window.alohaPPD.updateAvailableClass(p,o,m.props[o]);var p=k(),v=d();if(!e){var l={};l[n]=p;l[o]=v;l.Transaction="Upgrade";var t=j.getItem(l);l.Transaction="New";var l=j.getItem(l),
w=null;if(w=s()==="Upgrade"?h(t,l):h(l,t))u.push("Transaction"),q.push(w);if(t&&t.props&&t.props.isEMWA==="1"||l&&l.props&&l.props.isEMWA==="1")g("new"),g("upgrade")}if(r&&(r.props[n]!==m.props[n]||r.props[o]!==m.props[o]))q[0]=p,q[1]=v,j.chooseOption(u,q),j=j.getSelectedItem(),C=f,y(j);window.alohaPPD.manualUpdateImageBlock(b,a)}};e?u(j,r,n):u(m,n,r);window.alohaPPD.variationUpdate()}}},myCache:null})})(a);(function(){if(w()){var c=v();if(!c||c.length===0){var e=window.alohaPPD.payMonthlyEngine;
if((c=e.getOneAvailableItem())&&c.props&&c.props.asin)c=c.props.asin,c=a("#aloha-simcard-selectbox").find("input[name=simcardAsin][value="+c+"]").closest(".swatch"),a(c).trigger("click"),a(c).find(".a-button").addClass("a-button-selected"),b.delay(function(){window.alohaPPD.manualUpdateImageBlock(b,a)},1E3)}}else if(window.alohaPPD.isPhoneOnly===0&&(window.alohaPPD.isPayMonthlyOutOfStock===1&&window.alohaPPD.isAllOutOfStock!==1||window.alohaPPD.hasContractPrice===0))window.alohaPPD.onBuyBoxSelectionChange(1);
else if(!(window.alohaPPD.hasColorDimen===0||window.alohaPPD.hasSizeDimen===0)){var c=a("#variation-color").find("input[name=initSelectedColor]").attr("value"),e=a("#variation-storage").find("input[name=initSelectedStorage]").attr("value"),h=a("#variation-color").find(".swatches .selected");D(h,q,c);h=a("#variation-storage").find(".swatches .selected");D(h,p,d());var h=k(),g=d();if(h!==c||g!==e)c=[q,p],h=[h,g],e=z(),e.chooseOption(c,h),c=e.getSelectedItem(),b.delay(function(){window.alohaPPD.manualUpdateImageBlock(b,
a)},1E3),C=f,y(c),I()}})();!window.alohaPPD.isUpgradeSupported&&t.upgradeUnavailableMsg&&t.upgradeUnavailableMsg.length>0&&(a("#upgrade-monthly-contract-fee").closest(".tooltip").addClass("a-declarative").attr("data-action","a-tooltip").attr("data-a-tooltip",'{"content":"'+t.upgradeUnavailableMsg+'"}'),a("#upgrade-monthly-contract-fee").closest(".swatch").removeAttr("title"));a("#transaction-box-loading-blocker").css({display:"none","z-index":-1});a("#transaction-box-loading-blocker").remove();return window.alohaPPD});
window.alohaPPD.updateImageBlock=function(b,a,l){var f=function(){var a=window.alohaPPD.payMonthlyEngine;if(window.alohaPPD.isPhoneOnly)a=window.alohaPPD.phoneOnlyEngine;return a},k=function(){var a=f();return a?a.getSelectedItem():{}},d=k(),s=d.props.asin,v=function(a){var b={hovered_variations:{size_name:a.data.simcardStyle},selected_variations:{size_name:a.data.simcardStyle}};if(a.type==="mouseenter")b.hovered_variations.size_name=a.data.simcardStyle;else if(a.type==="mouseleave")if(window.alohaCurrentStyle)b.hovered_variations.size_name=
window.alohaCurrentStyle;else{if(d.props[window.alohaPPD.sizeCatName])b.hovered_variations.size_name=d.props[window.alohaPPD.sizeCatName]}else if(a.type==="click")window.alohaCurrentStyle=a.data.simcardStyle,typeof window.DetailPage!=="undefined"&&window.DetailPage&&window.DetailPage.StateController&&(window.DetailPage.StateController.setState("current_asin",s),window.DetailPage.StateController.setState("selected_variations",b.selected_variations));return b},H=function(a){var b=a.data&&a.data.colorValue?
a.data.colorValue:k().props[window.alohaPPD.colorCatName],d;d=a.data&&a.data.sizeValue;!d&&a.$target&&(d=a.$target.closest(".storageButtonWrapper").find("input[name=alohaTwisterValue]").attr("value"));d||(d=k().props[window.alohaPPD.sizeCatName]);var f={hovered_variations:{color_name:b,size_name:d},selected_variations:{color_name:window.alohaCurrentColor,size_name:d}};if(a.type==="mouseenter")f.hovered_variations.color_name=b;else if(a.type==="mouseleave"){if(window.alohaCurrentColor)f.hovered_variations.color_name=
window.alohaCurrentColor;if(window.alohaCurrentSize)f.hovered_variations.size_name=window.alohaCurrentSize}else if(a.type==="click")f.hovered_variations.color_name=b,f.selected_variations.color_name=b,window.alohaCurrentColor=b,window.alohaCurrentSize=d,typeof window.DetailPage!=="undefined"&&window.DetailPage&&window.DetailPage.StateController&&(window.DetailPage.StateController.setState("current_asin",s),window.DetailPage.StateController.setState("selected_variations",f.selected_variations));return f},
n=function(a){a=f().getItem(a);return!a||a.props.isOutOfStock==="1"?0:1},x=function(a,b){var d={};d[window.alohaPPD.colorCatName]=a;d[window.alohaPPD.sizeCatName]=b;window.alohaPPD.isPhoneOnly||(d.Transaction="New");return n(d)},j=function(a){var b={};b[window.alohaPPD.sizeCatName]=a;return n(b)},l=l("#aloha-simcard-selectbox")&&l("#aloha-simcard-selectbox").length>0,g={getState:function(){return this.state}};if(l){if(g.state=v(b),(v=g.state.hovered_variations)&&!j(v.size_name))return}else g.state=
H(b);if(b.type==="click")a.trigger("image-block-twister-swatch-click",s,g,function(){});else{if(!l&&b.type==="mouseenter"&&(v=g.state.hovered_variations)&&!x(v.color_name,v.size_name))return;a.trigger("image-block-twister-swatch-hover",s,g)}};l.when("A","jQuery","alohaPPD","cf").execute(function(b,a){b.declarative("aloha-colorthumb-action",["click","mouseenter","mouseleave"],function(l){window.alohaPPD.updateImageBlock(l,b,a)})})}if(!window.alohaBuyBox)window.alohaBuyBox={};if(!window.alohaBuyBoxLoadDone){if(!window.alohaBuyBoxLoadDone)window.alohaBuyBoxLoadDone=
!0;l.when("A","jQuery","ready").execute(function(b,a){b.on("a:accordion:alohaBuybox-accordion:accordion-row-contractPhone:select",function(){a("#alohaPhoneOnlyPrice").removeClass("hide");a("#devicePriceRadioButton").addClass("hide");b.trigger("alohaBuyBox.BuyingType","ContractPhone")});b.on("a:accordion:alohaBuybox-accordion:accordion-row-phoneOnly:select",function(){a("#alohaPhoneOnlyPrice").addClass("hide");a("#devicePriceRadioButton").removeClass("hide");b.trigger("alohaBuyBox.BuyingType","PhoneOnly")});
b.on("alohaPPD.VariationChange",function(a){window.alohaBuyBox.onVariationChange(a)});b.delay(function(){b.objectIsEmpty(a("#disabledHeader"))||a("#disabledHeader").remove();b.objectIsEmpty(a("#disabledHeaderContract"))||a("#disabledHeaderContract").remove();a("#phoneOnlyRow").show();a("#contractPhoneRow").show()},3E3)});l.when("A","jQuery","alohaUtil","ready").register("alohaBuyBoxJS",function(b,a,l){(function(){a(".aloha-bb-help-node-link").live("click",function(){var b=800,d=540,f=(window.screenX?
window.screenX:window.screenLeft)+(a(window).width()-b)/2,l=(window.screenY?window.screenY:window.screenTop)+(a(window).height()-d)/2;window.outerWidth&&window.innerWidth&&(f+=(window.outerWidth-window.innerWidth)/2);window.outerHeight&&window.innerHeight&&(l+=window.outerHeight-window.innerHeight);b-=16;d-=72;var u=a(this).attr("id");window.open("/gp/help/customer/display.html/ref=wl_ad_hp?ie=UTF8&pop-up=1&nodeId="+u,"newwindow","height="+d+",width="+b+",left="+f+",top="+l+",location=no,scrollbars=yes,toolbar=no,menubar=no,directories=no,status=yes,resizable=yes")})})();
var f=b.state("buyboxState")||{};window.alohaBuyBox=function(){return{onVariationChange:function(a){typeof window.amznJQ!=="undefined"&&window.amznJQ.available("jQuery",function(){var d=jQuery;d("#CONTRACT_ASIN").attr("value",a.asin);d("#ASIN").attr("value",a.asin);a.transactionType&&a.transactionType.toLowerCase()==="new"?(d("#alohaTransactionMessage").html(d("#aloha-new-message").attr("value")),d("#transaction").attr("value","INDIVIDUAL_NEW"),d("#alohaMinDevicePrice").html(d("#aloha-new-device-price").attr("value")),
d("#alohaSelectTariff").attr("action","/wl/rbi/puc")):a.transactionType&&a.transactionType.toLowerCase()==="upgrade"&&(d("#alohaTransactionMessage").html(d("#aloha-update-message").attr("value")),d("#transaction").attr("value","INDIVIDUAL_UPGRADE"),d("#alohaMinDevicePrice").html(d("#aloha-upgrade-device-price").attr("value")),f.showUEAfterDetailPage===!1?d("#alohaSelectTariff").attr("action","/wl/rbi/puc"):d("#alohaSelectTariff").attr("action","/wl/co/uew"));a.isSimcard?d("#alohaSimcardType").html(a.simcardStyle):
(a.isPhoneOnly?(d("#alohaPhoneOnlyColor").html(a.color),d("#alohaPhoneOnlyStorage").html(a.storage)):(d("#alohaBuyBoxCarrier").html(a.carrier),d("#alohaBuyBoxColor").html(a.color),d("#alohaBuyBoxStorage").html(a.storage),d("#alohaMonthlyPrice").html(a.monthlyPlanFee)),b.objectIsEmpty(d("#disabledHeader"))||d("#disabledHeader").remove(),b.objectIsEmpty(d("#disabledHeaderContract"))||d("#disabledHeaderContract").remove(),d("#phoneOnlyRow").show(),d("#contractPhoneRow").show());if(a.noValidTransaction){d("#aloha-contract-phone-add-to-basket").addClass("a-button-disabled");
var s=f.tooltipContent||"Currently no tariff available for this phone";d(".alohaBuybuttonRow").find(".tooltip").addClass("a-declarative");d(".alohaBuybuttonRow").find(".tooltip").attr("data-action","a-tooltip");d(".alohaBuybuttonRow").find(".tooltip").attr("data-a-tooltip",'{"content":"'+s+'"}');l.isNotEmpty(f.contractUnavailable)&&d("#alohaTransactionMessage").html(f.contractUnavailable)}else d("#aloha-contract-phone-add-to-basket").removeClass("a-button-disabled"),d(".alohaBuybuttonRow").find(".tooltip").removeClass("a-declarative"),
d(".alohaBuybuttonRow").find(".tooltip").removeAttr("data-action"),d(".alohaBuybuttonRow").find(".tooltip").removeAttr("data-a-tooltip")})},ppdButtonHover:function(){}}}()})}})})(function(){var l=window.AmazonUIPageJS||P,b=l.attributeErrors;return b?b("DetailPageAlohaAssets"):l}());
;/* ProductAdsDetailPageAssets */
(function(a){a.execute(function(){})})(function(){var a=window.AmazonUIPageJS||P,b=a.attributeErrors;return b?b("ProductAdsDetailPageAssets"):a}());
;/* CommonDetailPageScripts */
(function(g){g.execute(function(){g.when("jQuery","jumpLink").execute(function(g,a){var k=g("#miniATFUDP"),h=0;k.length>0&&(h=k.height()+9);window.isACRJumplLinkAnimated===1?a.bind("#acrCustomerWriteReviewLink, #acrCustomerReviewLink, #reviewLink, #reviewLinkShort, #reviewCreateLink",1E3,h):window.isACRJumplLinkAnimated===2?a.bind("#acrCustomerWriteReviewLink, #acrCustomerReviewLink, #reviewLink, #reviewLinkShort, #reviewCreateLink",1200,h):window.isACRJumplLinkAnimated===3?a.bind("#acrCustomerWriteReviewLink, #acrCustomerReviewLink, #reviewLink, #reviewLinkShort, #reviewCreateLink",
1400,h):window.isACRJumplLinkAnimated===4?a.bind("#acrCustomerWriteReviewLink, #acrCustomerReviewLink, #reviewLink, #reviewLinkShort, #reviewCreateLink",10,h):k.length>0&&(h=k.height()+9,a.bind("#acrCustomerWriteReviewLink, #acrCustomerReviewLink, #reviewLink, #reviewLinkShort, #reviewCreateLink",10,h))});g.when("A","jQuery","ImageBlockATF","jumpLink").register("miniATFUtils",function(l,a,k,h){function t(d){o&&!d||p||(d=(new Date).getTime()-u,d=d<50?50-d:10,o=1,o=0,u=(new Date).getTime(),setTimeout(function(){var d=
m.scrollTop(),j=a("#miniATFUDP");if(j.length>0){var c=v;if(c==="T1"){c=a("#sims_fbt");if(c.length<=0||c.height()<=0)c=a("#buyxgety_feature_div");var e=c,c=Number.MAX_VALUE;if(e&&e.length>0){var f=e.height(),e=e.offset();f&&e&&(c=e.top+f)}c=Math.min(c,x)}else if(c==="T2"){c="#product-details-grid_feature_div,#prodDetails,#important-information_feature_div,#importantInformation,#detail-bullets,#detail_bullets_id,#technical-data,#technicalSpecifications_feature_div,#productDescription,#product-description-iframe,#dpx-btf-hlcx-comparison_feature_div,#HLCXComparisonWidget_feature_div".split(",");
e=Number.MAX_VALUE;for(f=0;f<c.length;f++){var i=a(c[f]);if(i&&i.length>0&&i.height()>0){var b;b=Number.MAX_VALUE;if(i&&i.length>0&&(i=i.offset()))b=i.top;b<e&&(e=b)}}c=Math.min(e,y)-100}else c=void 0;d>c?!q&&j.is(":hidden")&&(j.removeClass("a-hidden"),j.slideDown(z)):(j.slideUp(A),q=0)}},d))}var r=a("#miniATFUDP");if(!(r.length<=0)){var m,q=0,u=0,o=0,n={},p=0,A=200,z=200,x=1200,y=1700,s=0,v="T1";n.setMiniATFShowHeight=function(d){v=d};n.setMiniATFScrollUpHeight=function(d){s=0;d==="T1"&&(d=a("#productTitle"),
d.length>0&&(d=d.offset())&&(s=d.top-20))};a("body").delegate(".go-to-top","click",function(){a("body, html").animate({scrollTop:s},300);q=1;return!1});m=a(window);m.scroll(function(){t(0)});m.resize(function(){t(1)});var w=0;r.length>0&&(w=r.height()+9,h.bind("#seeMoreDetailsLink",300,w));g.when("ImageBlockBTF","imageBlockUtils").execute(function(d){var g=function(b){var c=b.getState().selected_variations;if(c){var e="",g=b.getState().variation_display_labels;a.each(d.visualDimensions,function(b,
a){var f=d.gIsNewTwister===1?a:g[a];c[f]&&(e+=" "+c[f])});return e&&e.substring(1)}},j=d.defaultColor,c=j,e=d.landingAsinColor,f,i=a("#miniATF_image");i.length>0&&(f=i.attr("src"));n.updateMiniATFDiv=function(){p=0;var b=a("#miniATF_image");b.length>0&&f&&b.attr("src",f)};l.on("image-block-twister-swatch-click",function(b,a,i,h){p=1;b=(b=h?h:g(a))&&b!==""?b:j;b===e&&(b=j);b!==c&&(f=(a=b!==j&&b!==e?d:k)&&a.colorImages&&a.colorImages[b]&&a.colorImages[b].length>0&&a.colorImages[b][0]?a.colorImages[b][0].large:
null,c=b)})});return n}})})})(function(){var g=window.AmazonUIPageJS||P,l=g.attributeErrors;return l?l("CommonDetailPageScripts"):g}());
;/* DetailPageCommonScripts */
(function(a){a.execute(function(){a.when("A","jQuery").register("jumpLink",function(a,c){return{bind:function(a,d,e){try{var d=d||1E3,e=e||0,b=c(a);if(b.get(0)){var f=b.attr("href");f.charAt(0)==="#"&&c("body").delegate(a,"click",function(a){try{a.preventDefault(),c("html, body").animate({scrollTop:c(f).offset().top-e},d)}catch(b){window.ueLogError&&window.ueLogError(b,{logLevel:"FATAL",attribution:"jumpLink",message:"[JumpLink - Error in executing click handler]"})}})}}catch(g){window.ueLogError&&
window.ueLogError(g,{logLevel:"FATAL",attribution:"jumpLink",message:"[JumpLink - Error in binding click handler]"})}}}})})})(function(){var a=window.AmazonUIPageJS||P,b=a.attributeErrors;return b?b("DetailPageCommonScripts"):a}());
;/* SimilaritiesUDPTransistionAssets */
(function(b){b.execute(function(){b.when("A","twisterModule").execute("sims-bind-twister",function(d){var b=window.DetailPageFramework;b&&d.each(["session-similarities","purchase-similarities","buyxgety"],function(e){var f=["sims",e,"twister"].join(":");b.registerCallback("asin_select",e,function(){d.trigger(f,"asin_select")});b.registerCallback("after_redraw",e,function(){d.trigger(f,"after_redraw")})})})})})(function(){var b=window.AmazonUIPageJS||P,d=b.attributeErrors;return d?d("SimilaritiesUDPTransistionAssets"):
b}());
;/* RegistryDPAssets */
(function(m){m.execute(function(){m.when("A","a-popover","cf").register("add-to-wish-list",function(c,h){var m,A,B;function u(){e("#wishListDropDown").removeClass("a-button-selected");e("#wishListMainButton").removeClass("a-button-selected")}function q(a){c.state("atwl",e.extend(c.state("atwl")||{},a))}function v(){return(c.state("atwl")||{}).dropDownHtml}function O(){q({dropDownHtml:""})}function C(){var a=e("#atwl-dd-ul").parent();if(a&&a.get(0)){var b=a.get(0).scrollHeight,d=a.height(),a=2*parseInt(a.css("padding-top"),
10);return b>d+a}return!1}function D(){return parseInt(e.browser.version,10)<9&&document.body&&document.body.parentElement?!(!document.body.parentElement.scrollLeft&&!document.body.parentElement.scrollTop):!1}function E(a){a.find(".a-button-close").hide();a.find(".a-popover-content").css({"margin-right":"0px"});a.css({padding:"0"});a.find(".a-popover-inner").css({padding:"0"});setTimeout(function(){a.removeClass("a-arrow-bottom");e("#atwl-rich-content").css({"margin-bottom":"0px",width:"auto"});if(e.browser.msie){var b=
c.state("atwl")||{},d=e("#"+b.wishlistButtonSubmitId),b=d.offset(),Q=d.height(),d=b.left,b=b.top+Q;D()&&(d+=document.body.parentElement.scrollLeft,b+=document.body.parentElement.scrollTop);C()&&(d-=17);a.css({left:d+"px",top:b+"px"})}},50)}function o(){if(r){var a=h.get(r);a&&a.hide()}}function w(a){e("#"+a).children().first().width(m);o();if(h){var b=h.get(r),d=c.state("atwl")||{},b=b?h.get(r):h.create(e("#add-to-wishlist-button-group"),{content:e("#"+a).html(),name:"atwl",skin:function(a){return a},
activate:"onmouseclick",width:m,position:d.dropDownPosition||"triggerBottom"});b.update({width:m,content:e("#"+a).html()});r=b.id;b.show().updatePosition();E(b.$popover)}}function x(){u();F++;o();w("atwl-dd-error-holder")}function R(){o();var a=c.state("atwl")||{};return F>=a.maxAjaxFailureCount}function G(){var a=c.state("atwl")||{};return h.create(e("#add-to-wishlist-button-group"),{content:v(),name:"atwl",skin:function(a){return a},activate:"onmouseclick",position:a.dropDownPosition||"triggerBottom"})}
function S(a){var b;b=D()?50:0;setTimeout(function(){var b=e("#atwl-popover-inner"),c=b.width();C()?c+=A:e(".atwl-dd-list-name").each(function(){var a=e(this);a.width(a.width()+B)});var f=a.find("ul li a.a-active").first();f.css("margin-left","1px");f.parent().focus();b.width(c)},b)}function T(a){a.update({content:v(),width:"auto"});a.show();E(a.$popover);S(a.$popover)}function H(){var a=h.get("atwl");if(a)if(a.isActive()){a.hide();return}else h.remove(a);else a=G(),h.remove(a);a=G();T(a);c.capabilities.touch&&
setTimeout(function(){var a=e("#wishlistButtonStack"),d=a.clone(),c=a.parent();a.remove();c.append(d)},300)}function s(){var a=h.get("atwl");a&&a.isActive()&&a.hide()}function U(a){u();o();var b;try{b=c.parseJSON(a)}catch(d){x();return}typeof b.html!=="undefined"&&b.css!=="undefined"?(q({dropDownHtml:b.html}),a=b.css,e("body").append(a),H()):x()}function V(a){if(a&&a.promoEnabled){var b=a.html;if(b){var d=h.create(y.parent(),{name:"kbpPromoPopover",content:b,position:"triggerBottom",width:a.width});
d.show().lock();c.delay(function(){var a=(c.state("atwl")||{}).kbpPromo||{};a.mouseOver?a.countDown=!0:(d.unlock().hide(),h.remove(d));c.state("atwl",{kbpPromo:a})},1E4)}}}typeof c.state.parse!=="undefined"&&c.state.parse();var j=c.state("popoverState")||{};window.setRegistryId=function(a){var b=e("#addToCart");b.find("[name='sourceCustomerOrgListID'],[name='colid'],[name='wlPopCommand']").attr("value",a);b.find("[name='submit.add-to-registry.wishlist'],[name='submit.add-to-wishlist']").eq(0).click();
return!1};var t=[];if(j.showWishListDropDown||j.showBabyRegDropdown||j.isAddToWishListDropDownAuiEnabled||j.showPopover){var e=c.$;if(j.showWishListDropDown||j.showBabyRegDropdown){var p,I=function(){var a=function(a){if(!a.data("wired")){a.data("wired",!0);a[0].name="";if(a.css("cursor")!=="not-allowed"){var b=a.attr("data-type"),d=j.wishlistPopoverWidth;a.amazonPopoverTrigger({ajaxSlideDuration:0,align:"left",cacheable:!0,closeEventInclude:"CLICK_OUTSIDE",destination:"/gp/registry/reglist-popover.html?sprited=0&type="+
b,group:"addToWishlist",loadingContent:"<div style='padding: 4px 28px;'><img src='"+window.AmazonPopoverImages.loadingBar+"'/></div>",location:"bottom",locationElement:"#"+a[0].id,locationOffset:[-33,-5],showOnHover:!1,skin:"<div id='wishlist-dropdown-content'><div class='ap_content'></div></div>",width:d,onFilled:function(a){e(document).click();a.width(d);window.wlPop&&setTimeout(function(){window.wlPop.onFill(a);a.width(d)},0)}})}p&&(clearInterval(p),p=void 0)}},b="#"+j.babyRegistryId;if(!j.isAddToWishListDropDownAuiEnabled){var d=
c.state("atwl")||{};b+=", #"+d.wishlistButtonId}e(b).each(function(){a(e(this))})};I();var n=function(){p&&clearInterval(p);p=setInterval(I,200)};e("#twister").change(n);c.declarative("swatchthumb-action","click",n)}if(j.isAddToWishListDropDownAuiEnabled){var r,F=0,n=c.state("atwl")||{},J=n.wireDeclaratives,K=e("#"+n.wishlistButtonId);K.addClass("a-declarative");K.attr("data-action","atwl-splitbutton-arrow");var y=e("#"+n.wishlistButtonSubmitId);y.addClass("a-declarative");y.attr("data-action","atwl-splitbutton-main");
e("#wishListMainButton").addClass("a-declarative").attr("data-action","add-wishlist-declarative");m=230;A=10;B=10;q({resetDropDownHtml:O});J||(c.declarative("atwl-splitbutton-arrow","click",function(a){a.$event.preventDefault();setTimeout(function(){u()},0);if(a.$target.css("cursor")==="not-allowed")return!1;if(R())return o(),o(),w("atwl-dd-unavail-holder"),!1;var b=v(),a=c.state("atwl")||{};if(!b||!b.length){w("atwl-dd-spinner-holder");var b=c.state("wishlistDPState")||{},d="website.wishlist.detail.add";
if(typeof b.vendorId!=="undefined")d=b.vendorId;a={url:"/gp/registry/atwl/popover.html?"+e.param({sortMethod:a.sortMethod||0,type:"wishlist",useAll:a.showAllTypes||0,sourceVendorId:d}),cache:!1,success:U,error:x};e.ajax(a)}else H();return!1}),c.declarative("atwl-dd","click",function(a){a.$event.preventDefault();var b=a.data,a=b.id,b=b.type;typeof b==="undefined"&&(b="wishlist");var d="pop_"+a+"_"+b,c=e("#addToCart,#addToWL");c.find("[name='sourceCustomerOrgListID'],[name='colid'],[name='wlPopCommand']").attr("value",
d);c.find("[name='registryID']").attr("value",a);c.find("[name='registryType']").attr("value",b);q({inSubmit:!0});c.find("[name='submit.add-to-registry.wishlist'],[name='submit.add-to-wishlist']").eq(0).click();s();return!1}),c.declarative("atwl-kbp-landing","click",function(a){var b=a.data,a=e("#addToCart").find("#ASIN").val(),b=b.url;b+="&asin="+a;window.open(b);return!1}));if((n=c.state("atwl")||{})&&n.sortMethod==="kbp")c.state("atwl",{kbpPromo:{mouseOver:!1,countDown:!1}}),c.ajax("/gp/toys/birthday/atwl-dpx.html",
{method:"get",cache:!1,params:{isAUI:1},success:V,error:function(){}}),J||(c.declarative("atwl-kbp-promo-mouseover","mouseleave",function(){var a=(c.state("atwl")||{}).kbpPromo;a.mouseOver=!1;if(a.countDown){var b=h.get("kbpPromoPopover");b&&(b.unlock().hide(),h.remove(b))}c.state("atwl",{kbpPromo:a})}),c.declarative("atwl-kbp-promo-mouseover","mouseenter",function(){var a=(c.state("atwl")||{}).kbpPromo;a.mouseOver=!0;c.state("atwl",{kbpPromo:a})}),c.on("a:popover:hide:kbpPromoPopover",function(){var a=
h.get("kbpPromoPopover");a.unlock().hide();h.remove(a)}));q({wireDeclaratives:!0})}if(j.showPopover){var L=function(a,b){var d=document.getElementById("addToCart");if(typeof d==="undefined"||d===null)d=document.getElementById("addToWL");var e=[];if(typeof d!=="undefined"&&d!==null){var e=[],f=!1,i=d.elements;i||(i=d.querySelectorAll("input"),f=!0);for(var l=0;l<i.length;l++){var g;if(!(g=f)){g=i[l];var h=/^(?:checkbox|radio)$/i,j=/^(?:submit|button|image|reset|file)$/i,m=/^(?:input|select|textarea|keygen)/i;
if(g){var n=g.type;g=g.name&&!g.disabled&&m.test(g.nodeName)&&!j.test(n)&&(g.checked||!h.test(n))}else g=!1}g&&e.push(i[l])}}f={};i=c.state("wishlistDPState")||{};if(typeof i.asin!=="undefined"&&i.asin!==null)f.asin=i.asin;for(l=0;l<e.length;l++)if(e[l].type!=="submit")f[e[l].name]=e[l].value;f.requestedQty=f.quantity=d!==null&&typeof d.quantity!=="undefined"?d.quantity.value:1;f.sid=typeof f["session-id"]!=="undefined"?f["session-id"]:i.sid;f.cache=!1;f.url=i[a+"Url"];f.action=a;f.type=f.registryType||
"wishlist";if(a==="add")f.type=f.registryType||b,f.caller="aui",f.streaming=i.streaming,f.sourceVendorId=typeof i.vendorId!=="undefined"?i.vendorId:"website.wishlist.detail.add";else if(a==="create")f.create_sid=f.sid,f.create_type=f.registryType||b,f.create_nextAction="add",f.create_includeEmptyList=1,f.create_isFirst=i.isFirstCreate?1:0,f.caller="aui",f.create_sourceVendorId=typeof i.vendorId!=="undefined"?i.vendorId:"website.wishlist.detail.add";return f},z=function(a){var b=a.attr("name"),a=a.parents("form"),
b=e('<input type="hidden" />').attr("name",b).val("1");a.append(e(b));a.submit()},M=function(){var a=e("#add-wishlist-declarative").closest(".a-button").find("input");z(a)};c.capabilities.touch||e("#add-to-wishlist-button-submit").unbind("click").bind("click",function(a){a.preventDefault();if(e(this).css("cursor")==="not-allowed")return!1;var b="",b=c.state("wishlistDPState")||{},d=e("[name='wlPopCommand']").val(),a=window.currentType;if(d&&d!==""){d=d.split("_");a=d[2];if(a!=="wishlist"&&a!=="giftlist"&&
a!=="supplylist"||e("html").hasClass("a-lt-ie9")){M();return}b=d[1]==="new"?"create":d[1]==="default"&&b.isFirstCreate?"create":"add"}else if(a="wishlist",b=b.isFirstCreate?"create":"add",b==="add"&&e("html").hasClass("a-lt-ie9")){M();return}c.state("wishlistDPState",{action:b,type:a});window.currentType=a;e("#add-wishlist-declarative").trigger("click")});var N=function(){for(var a=["wlPopCommand","sourceCustomerOrgListID"],b=0;b<a.length;b++){var c=e('[name^="'+a[b]+'"]');c&&c.length&&c.val("")}};
(c.state("wishlistDPState")||{}).eventsBound||(c.on("a:popover:show:addCreateToWishlist",function(a){var b=a.popover,a=b.$popover,d=c.state("wishlistDPState")||{},h=d.action;a.addClass("pop-huc-"+h);var f=b.$trigger.closest(".a-button").find("input"),a=d.type;f.closest(".a-button-selected").removeClass("a-button-selected");var a=L(h,a),d=a.url,i=a.streaming,l="ajax_"+i,g=new Date;window.ue&&window.uet("tc",l);var j=function(){b.hide();z(f)},m=function(){b.$popover.find("#popover-spinner").addClass("a-hidden");
N()},n=function(){window.ue&&(window.uet("be",l),window.uex("ld",l))},o=function(a,b,c){window.ue&&(window.ues("id",l,a),window.ues("t0",l,b),window.ues("ctb",l,c))};if(h==="create"||!i)c.ajax(d,{method:"post",params:a,success:function(a){a&&a.html?(o(a.requestId,g,"1"),a.status&&a.status==="no-asins"?j():(m(),h==="add"?b.$popover.find("#WLHUC_result").html(a.html).removeClass("a-hidden"):(b.$popover.find("#WLNEW_main").html(a.html).removeClass("a-hidden"),(a=c.state("atwl")||{})&&a.resetDropDownHtml&&
a.resetDropDownHtml()),b.updatePosition()),n()):(h==="create"&&z(f),b.hide())},error:j});else{var k=new XMLHttpRequest;k.open("GET",a.url+"&"+c.$.param(a),!0);k.send(null);var p=0;k.ontimeout=j;k.onerror=j;k.onreadystatechange=function(){try{if(k.readyState>2&&typeof k.status!=="unknown"&&k.status===200&&(typeof k.response!=="undefined"||typeof k.responseText!=="unknown"&&typeof k.responseText!=="undefined")){var a=[];typeof k.response!=="undefined"&&k.response!==null?a=k.response.split(",,,"):typeof k.responseText!==
"unknown"&&typeof k.responseText!=="undefined"&&k.responseText!==null&&(a=k.responseText.split(",,,"));for(var d=p;d<a.length;d++){var f=a[d],g;try{g=c.parseJSON(f)}catch(h){p=d;break}d===0&&g&&g.name==="skeleton"?g&&g.html&&(o(g.requestId,new Date,"1"),g.status&&g.status==="no-asins"?j():(m(),b.$popover.find("#WLHUC_result").html(g.html).removeClass("a-hidden"))):g&&g.name&&g.html&&g.name==="pcomp"?e("#wishListMainButton").hasClass("a-hidden")||(e("#wishListMainButton,#add-to-wishlist-button-group").addClass("a-hidden"),
s(),e("#wishlistButtonStack").append(g.html)):g&&g.name&&g.html&&g.name!=="js"?(b.$popover.find("#"+g.name).html(g.html),d===1&&window.ue&&window.uet("cf",l)):g&&g.html&&b.$popover.find("#WLHUC_result").append(g.html);b.updatePosition()}k.readyState===4&&n()}else typeof k.status!=="unknown"&&k.status!==200&&j()}catch(i){j()}}}}),c.on("a:popover:beforeShow:addCreateToWishlist",function(a){var a=a.popover,b=c.state("wishlistDPState")||{};a.$popover.find("#popover-spinner").css({margin:"10% 40%"});a.$popover.find("#popover-spinner").removeClass("a-hidden");
a.$popover.find(".wlAddCreatePop").html("").addClass("a-hidden");var d=b.action;a.update({width:b[d+"Width"],header:b[d+"Header"],height:b[d+"Height"]});a.updatePosition()}),c.on("a:popover:hide:addCreateToWishlist",function(){e(".a-modal-scroller").css({visibility:"hidden"});N()}),c.state("wishlistDPState",{eventsBound:!0}),c.declarative("add-wishlist-declarative",["click"],function(){var a=c.state("wishlistDPState")||{},b=L(a.action,a.type),d=function(){e("#wishListMainButton,#add-to-wishlist-button-group").addClass("a-hidden");
s();e("#atwl-error-holder").removeClass("a-hidden")};e("#atwl-dd-no-title-holder").hasClass("a-hidden")||e("#atwl-dd-no-title-holder").addClass("a-hidden");var h=function(a){try{if(typeof a!=="undefined"){var b="";if(typeof a.pcompHtml!=="undefined"&&a.pcompHtml.trim()!=="")b=a.pcompHtml;else{d();return}e("#wishListMainButton").hasClass("a-hidden")||(e("#wishListMainButton,#add-to-wishlist-button-group").addClass("a-hidden"),s(),e("#atwl-output-holder").empty(),e("#atwl-output-holder").append(b),
e("#atwl-output-holder").removeClass("a-hidden"))}else d();for(b=0;b<t.length;b++)if(typeof t[b]==="function")t[b](a)}catch(c){d()}},f=function(a){var b=document.createElement("input");b.type="hidden";b.id=a;b.name=a;typeof e("#addItemForm")!=="undefined"&&e("#addItemForm").append(b);return b};if((typeof b.asin==="undefined"||b.asin.length===0)&&(typeof b.name==="undefined"||b.name.length===0))e("#atwl-dd-no-title-holder").removeClass("a-hidden");else if(a.custRecognized==="false"){if(a.asin===null){var a=
f("name.0"),b=f("imageUrl.0"),h=f("productUrl.0"),i=f("priceInput"),f=f("quantity.0");a.value=document.getElementById("name").value;b.value=document.getElementById("imageUrl").value;h.value=document.getElementById("productUrl").value;i.value=document.getElementById("price").value;f.value=1}e("#addItemForm").submit()}else c.ajax(b.url,{method:"get",dataType:"json",cache:!1,params:b,success:h,error:d})}))}}return{setPostAddSuccess:function(a){t.push(a)}}})})})(function(){var m=window.AmazonUIPageJS||
P,c=m.attributeErrors;return c?c("RegistryDPAssets"):m}());
;/* SoftlinesRecommendationsAssets */
(function(b){b.execute(function(){b.when("A","jQuery","a-carousel-framework","a-carousel-ajax-standard","complete-the-look-carousel-data","looks-data-cache","softlines-utils","csm-metrics-logger","ob-link-generator","lookFeedback","ready").execute("complete-the-look-ajax",function(a,b,h,c,l,j,k,m,i,f){a=a.extend({},c);a.getItems=function(a,b,g){g.asin=j.getAsin();var n=j.getInjectedViewModel();if(k.isStringNotEmpty(n))g.injectViewModel=n;c.getItems(a,b,g)};a.init=function(a){f.updateFeedback(1);var b=
l.getProducts();a.setAttr("ajax",{url:"/gp/product/ajax-handlers/complete-the-look-carousel.html",id_list:b});return c.init(a)};a.afterInit=function(a){c.afterInit(a);var d=j.getLooks(),g=0;if(b.isArray(d))g=d.length;m.addCount("ctl-carousel:shown",1);a.onChange("pageNumber",function(a,c){var d=":back";a>c&&(d=":next");a===g&&c===1&&(d=":back");c===g&&a===1&&(d=":next");f.updateFeedback(a);var e=b("#outfitBuilder");if(e.length>0){var j=i.getOutfitBuilderUrlForPageNumber(a);k.isStringNotEmpty(j)&&
e.attr("href",j)}m.addCount("ctl-carousel:page:"+a+d,1)})};h.registerStrategy("ajax","complete-the-look",a)});b.when("A","jQuery","a-carousel-framework","complete-the-look-carousel-data","csm-metrics-logger","ready").execute("complete-the-look-display",function(a,b,h,c,l){function j(a){function c(a){a.dom.$viewport.css("height","")}a.onChange(e,function(){a.dom.$carousel.children("li").css("visibility","")});a.onChange(k,function(b,d){b>d&&c(a)});a.onChange("loading",function(b){b||c(a)});a.onChange(m,
function(){c(a)});a.onChange(d,function(c){if(!c){var d=a.getAttr(m)-1,g=d+a.getAttr(k);a.dom.$carousel.children("li").each(function(a,c){var n=a>=d&&a<g;b(c).css("visibility",n?"":"hidden").attr("aria-hidden",n?"false":"true")})}});a.onChange(i+" "+f,function(){this.repaint(a)});a.onChange(f,function(){this.repaint(a)})}var k="pageSize",m="firstVisibleItem",i="single_page_align",f="minimum_gutter_width",e="pageNumber",d="animating",g=b("#recommendations");h.registerStrategy("display","complete-the-look",
{repaint:function(a){a.getDimensions();var b=g.width()*1,c=Math.round(b*0.225),d=Math.round(b*0.0125);a.setAttr("currentGutter",0);a.setAttr(k,4);var f=a.dom.$carousel,e=f.children("li"),b=e.length,j=a.getAttr(m)-1,i=j+4,h=c+"px",l="0 "+d+"px";e.each(function(a,b){var c=a>=j&&a<i;b.style.visibility=c?"":"hidden";b.style.width=h;b.style.margin=l;b.setAttribute("aria-hidden",c?"false":"true")});d=e.first().outerWidth(!0);e=b*d;f.removeClass("a-text-right a-text-center");f.css("width",e+"px");f={carousel:{width:e,
outerWidth:f.outerWidth()},items:[]};for(e=0;e<b;e++)f.items.push({width:c,outerWidth:d});a.updateDimensionsCache(f);a.gotoIndex(a.getAttr(m),{animationDuration:0});a.triggerEvent("repaint")},resize:function(a,b){b.viewport&&b.viewport.width!==void 0&&(this.repaint(a),l.addCount("ctl-carousel:resized",1))},init:function(a){var b=c.getProducts();b.length>0&&a.setAttr("set_size",b.length);a.setAttr(f,0);a.setAttr("first_item_flush_left",!0);this.repaint(a);b=a.getDimensions();a.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",
Math.max(b.viewport.height,b.items[0]?b.items[0].height:0)+"px");b=a.getAttr(m);b>1&&(a.setAttr(m,b),b=Math.ceil(b/a.getAttr(k)),a.gotoPage(b));j(a)}})});b.when("jQuery").register("softlines-utils",function(a){function b(c){return a.type(c)!=="undefined"&&a.type(c)!=="null"}function h(c){return b(c)&&a.type(c)==="string"}return{isNotNull:b,isString:h,isStringNotEmpty:function(a){return h(a)&&a.length>0}}});b.register("recommendations-carousel-data",function(){return{getProducts:function(){}}});b.when("A",
"jQuery","recommendations-carousel-data","softlines-utils","looks-data-cache","atf").register("complete-the-look-carousel-data",function(a,b,h,c,l){a=a.extend({},h);a.getProducts=function(){var a=[],k=l.getLooks(),h,i,f=k.length;for(h=0;h<f;h++)if(i=k[h],b.isPlainObject(i)&&b.isArray(i.asins)){var e=i.asins,d=e.length;for(i=0;i<d;i++){var g=e[i];b.isPlainObject(g)&&c.isString(g.asin)&&a.push(g.asin)}}return a};return a});b.when("A","jQuery","softlines-utils","atf").register("looks-data-cache",function(a,
b,h){var c=b("#multipleRecommendations"),l=[],j=[];if(c.length>0){var k=c.attr("data-ids");if(h.isString(k)&&(a=a.parseJSON(k),b.isPlainObject(a)&&b.isArray(a.recommendations)))for(var a=a.recommendations,m=a.length,k=0;k<m;k++){var i=a[k];if(b.isPlainObject(i)&&b.isArray(i.asins)){var f=i.asins;if(b.isArray(f)){f=f.splice(0,Math.min(4,f.length));i.asins=f;j.push(i);for(var e=f.length,d=[],i=0;i<e;i++){var g=f[i];b.isPlainObject(g)&&h.isString(g.asin)&&d.push(g.asin)}f=d.join();f=encodeURIComponent(f);
l.push(f)}}}}var g=c.attr("data-asin"),n=c.attr("data-injectedViewModel");return{getLooks:function(){return j},getLooksAsins:function(){return l},getAsin:function(){return g},getInjectedViewModel:function(){return n}}});b.when("A","metrics-logger").register("csm-metrics-logger",function(a,b){var h=window.ue,c=a.extend({},b);c.addCount=function(a,b){var c=h.count(a)||0;h.count(a,c+b)};return c});b.register("metrics-logger",function(){return{addCount:function(){}}});b.when("jQuery","softlines-utils",
"looks-data-cache").register("ob-link-generator",function(a,b,h){return{getOutfitBuilderUrlForPageNumber:function(c){c-=1;var l,j=a("#outfitBuilder"),k=h.getLooksAsins();c>=0&&c<k.length&&j.length>0&&(j=j.data("outfitbuilderurlprefix"),b.isStringNotEmpty(j)&&(l=j+k[c]));return l}}});b.when("jQuery","softlines-utils","looks-data-cache","atf").register("lookFeedback",function(a,b,h){function c(){g.length>0&&d.length>0&&(g.removeClass(),d.removeClass(),g.addClass("leftFloat"),d.addClass("leftFloat"),
g.addClass("hidden"),d.addClass("visibleFeedbackBlock"));typeof Storage!=="undefined"&&localStorage.setItem(j,f)}function l(b){a.ajax({timeout:e,type:"GET",url:"/gp/softlines/logger/seed/"+m+"/look/"+k+("/ref=ctl_look_"+i+"_vote_"+b),data:{vote:b}})}var j,k,m=h.getAsin(),i,f="1",e=4E3,d=a("#afterCtlFeedback"),g=a("#beforeCtlFeedback");a("#ctlButtonYes").click(function(){c();l("yes")});a("#ctlButtonNo").click(function(){c();l("no")});return{updateFeedback:function(a){i=a;a-=1;var b=h.getLooksAsins();
a>=0&&a<b.length&&(k=b[a]);j=m+k;typeof Storage!=="undefined"&&(a=localStorage.getItem(j),g.length>0&&d.length>0&&(g.removeClass(),d.removeClass(),g.addClass("leftFloat"),d.addClass("leftFloat"),a===f?(g.addClass("hidden"),d.addClass("visibleFeedbackBlock")):(g.addClass("visibleFeedbackBlock"),d.addClass("hidden"))))}}})})})(function(){var b=window.AmazonUIPageJS||P,a=b.attributeErrors;return a?a("SoftlinesRecommendationsAssets"):b}());
;/* FreeSampleAssets */
(function(e){e.execute(function(){e.when("A","ready").execute(function(a){a.$("#freeSampleInlineJavascript").length===0&&e.register("sampling-feature",function(){var c,e,j,n,m,f;function b(){var b=a.$("#csxfsSelectedBlock").height()*n;a.$("#csxfsImageSelected").css("padding-top",b);a.$("#csxfsYourGiftText").css({left:m,opacity:0});a.$("#csxfsSampleImages").css({height:0,opacity:0});a.$(".csxfs_normal").each(function(){a.$(this).css("borderWidth",f)})}m=16;f=0;j=114;c=void 0;e=void 0;n=void 0;var h=
!0,k=function(){a.$("#csffsFeaturecontainer").animate({height:c},"slow",function(){a.$("#csxfsSelectedSampleText").css({left:m,opacity:0})});a.$("#csxfsSamplesBlock").removeClass("a-hidden");a.$("#csxfsSelectedBlock").addClass("a-hidden");a.$("#csxfsImageSelected").removeClass("csxfs_faded_image");a.$("#csxfsSampleImages").animate({height:e,opacity:1},"slow");a.$(".csxfs_normal").each(function(){a.$(this).animate({borderWidth:1},"3000")});a.$("#csxfsYourGiftText").animate({left:0,opacity:1},"slow");
d(!0);return!1},d=function(b){b?(a.$("#csxfsFreeSampleDeclinedTitle").hide(),a.$("#csxfsSelectedSampleText").removeClass("csxfs_nosampleselected_text"),a.$("#csxfsSampleTitle").show(),a.$("#csxfsFreeSampleTitle").show()):(a.$("#csxfsFreeSampleDeclinedTitle").show(),a.$("#csxfsSelectedSampleText").addClass("csxfs_nosampleselected_text"),a.$("#csxfsSampleTitle").hide(),a.$("#csxfsFreeSampleTitle").hide())},q=function(){h=!1;a.$("#csxfsLnkDiffGiftSec").hide();a.$("#csxfsLnkChooseGift").show();a.$("#csxfsLnkNoGift").hide();
d(!1);a.$("#csxfsImageSelected").addClass("csxfs_faded_image");a.$("#freeSampleOfferListingID").remove();a.$("#csxfsAcceptSample").show();a.$.get(a.$(this).data("foresterurl"));return!1},l=function(){return a.$("#csxfsItemsCount").val()>1?!0:!1},i=function(){var b=a.$(this).data("foresterurl");b&&a.$.get(b);l()?t():(u(),a.$("#addToCart").find("#freeSampleOfferListingID").val(a.$("#csxfsImg0").data("offerlistingid")),a.$("#csxfsSampleTitle").text(a.$("#csxfsImg0").data("title")).show(),a.$("#csxfsImageSelected").removeClass("csxfs_faded_image"),
a.$("#csxfsLnkNoGift").show(),d(!0),a.$("#csxfsAcceptSample").hide())},t=function(){a.$("#csxfsLnkDiffGiftSec").show();a.$("#csxfsLnkChooseGift").hide();a.$("#csxfsLnkNoGift").show();k();return!1},u=function(){h||(a.$("#addToCart").prepend(a.$('<input type="hidden" id="freeSampleOfferListingID" name="freeSampleOfferListingID" value="">')),h=!0)},r=function(){var c=a.$(this).find("img").attr("src"),d=a.$(this).data("title");a.$("#csxfsSampleImages").animate({height:0,opacity:0},"slow");a.$("#csxfsSamplesBlock").addClass("a-hidden");
a.$("#csxfsImageSelected").attr("src",c);a.$("#csxfsSampleTitle").text(d);a.$("#csxfsSelectedBlock").removeClass("a-hidden");c=a.$("#csxfsSelectedBlock").height()*n;a.$("#csxfsImageSelected").css("padding-top",c);a.$("#csffsFeaturecontainer").animate({height:j},"3000",function(){a.$("#csxfsYourGiftText").css({left:m,opacity:0})});a.$("#csxfsSelectedSampleText").animate({left:0,opacity:1},"slow");a.$(".csxfs_normal").each(function(){a.$(this).removeClass("csxfs_highlight")});a.$(this).addClass("csxfs_highlight");
b();u();a.$("#addToCart").find("#freeSampleOfferListingID").val(a.$(this).data("offerlistingid"));a.$.get(a.$(this).data("foresterurl"))},g,o=!0,p=function(){o=!0;a.$("#csxfsSampleTitle").removeClass("csxfs_hidden_elements");a.$("#csxfsNoSample").addClass("csxfs_hidden_elements");a.$("#csxfsImageSelected").removeClass("csxfs_faded_image");if(l()){var b=a.$("#csxfsSampleTitle").text().trim(),c=a.$(this).data("title"),b=b.substring(0,b.indexOf(" ")+1)+c;a.$("#csxfsSampleTitle").text(b);a.$("#csxfsSelectProductSubheadingText").text(c);
g=c;c=a.$(this).find("img").attr("src");a.$("#csxfsImageSelected").attr("src",c);a.$(".csxfs_normal").removeClass("csxfs_highlight");a.$(this).addClass("csxfs_highlight");a.$("#csxfsButtonTextChange").removeClass("csxfs_hidden_elements");a.$("#csxfsButtonTextSelect").addClass("csxfs_hidden_elements");a.$("#csxfsFreeSampleTitle").removeClass("csxfs_hidden_elements");a.$("#csxfsTitleDetailsLink").removeClass("csxfs_hidden_elements");a.$("#csxfsSelectSampleTitle").addClass("csxfs_hidden_elements");a.$("#csxfsCountSampleChoices").addClass("csxfs_hidden_elements");
a.$("#freeSampleOfferListingID").val(a.$(this).data("offerlistingid"));a.$.get(a.$(this).data("foresterurl"))}else a.$("#csxfsDeclineSampleButton").removeClass("csxfs_hidden_elements"),a.$("#csxfsAcceptSampleButton").addClass("csxfs_hidden_elements"),a.$("#freeSampleOfferListingID").val(a.$("#csxfsImg0").data("offerlistingid")),a.$.get(a.$("#csxfsImg0").data("foresterurl"))},s=function(){o=!1;a.$("#csxfsSampleTitle").addClass("csxfs_hidden_elements");a.$("#csxfsNoSample").removeClass("csxfs_hidden_elements");
a.$("#csxfsImageSelected").addClass("csxfs_faded_image");if(l()){a.$(".csxfs_normal").removeClass("csxfs_highlight");a.$("#csxfsNoThanks").addClass("csxfs_highlight");var b=a.$(this).data("title");a.$("#csxfsSelectProductSubheadingText").text(b);g=b;a.$("#csxfsButtonTextChange").addClass("csxfs_hidden_elements");a.$("#csxfsButtonTextSelect").removeClass("csxfs_hidden_elements");a.$("#csxfsFreeSampleTitle").addClass("csxfs_hidden_elements");a.$("#csxfsTitleDetailsLink").addClass("csxfs_hidden_elements");
a.$("#csxfsSelectSampleTitle").removeClass("csxfs_hidden_elements");a.$("#csxfsCountSampleChoices").removeClass("csxfs_hidden_elements")}else a.$("#csxfsDeclineSampleButton").addClass("csxfs_hidden_elements"),a.$("#csxfsAcceptSampleButton").removeClass("csxfs_hidden_elements");a.$("#freeSampleOfferListingID").val("");a.$.get(a.$("#csxfsNoThanks").data("foresterurl"));return!1},v=function(){o?s():p()},w=function(){g=a.$("#csxfsSelectProductSubheadingText").text();a.$("#csxfsSelectProductSubheadingText").text(a.$(this).data("title"))},
x=function(){a.$("#csxfsSelectProductSubheadingText").text(g)};return{init:function(){a.$(".csxfs_featurecontainer").show();var d=a.$("#csffsFeaturecontainer").hasClass("a-hidden");a.$("#csffsFeaturecontainer").removeClass("a-hidden");c=a.$("#csxfsSamplesBlock").removeClass("a-hidden").height();e=a.$("#csxfsSampleImages").height();a.$("#csxfsSamplesBlock").addClass("a-hidden");j=a.$("#csffsFeaturecontainer").height();d&&a.$("#csffsFeaturecontainer").addClass("a-hidden");a.$("#csxfsImageSelected").hasClass("csxfs_faded_image")&&
a.$("#addToCart").find("#freeSampleOfferListingID").val("");b();a.$("#csxfsLnkDiffGift").bind("click",k);a.$("#csxfsLnkNoGift").bind("click",q);a.$(".csxfs_normal").bind("click",r);a.$("#csxfsImageSelected").bind("click",i);a.$("#csxfsLnkChooseGift").bind("click",t);a.$("#csxfsAcceptSample").bind("click",i)},initV2:function(b,c){a.$(".csxfs_featurecontainer").show();l()?(a.$("#csxfsSelectSampleButton, #csxfsImageSelected").bind("click",function(){b.animateIn(c)}),a.$(".csxfs_normal").bind("click",
p).bind("click",function(){b.animateOut(c)}),a.$(".csxfs_normal").hover(w,x),a.$("#csxfsNoThanks").bind("click",s).unbind("click",p)):(a.$("#csxfsImageSelected").bind("click",v),a.$("#csxfsAcceptSampleButton").bind("click",p),a.$("#csxfsDeclineSampleButton").bind("click",s));a.$("#csxfsImageSelected").hasClass("csxfs_faded_image")&&(o=!1,a.$("#addToCart").find("#freeSampleOfferListingID").val(""))}}})})})})(function(){var e=window.AmazonUIPageJS||P,a=e.attributeErrors;return a?a("FreeSampleAssets"):
e}());